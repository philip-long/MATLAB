(********************************************)
(** SYMORO+ : SYmbolic MOdelling of RObots **)
(**========================================**)
(**      IRCCyN-ECN - 1, rue de la Noe     **)
(**      B.P.92101                         **)
(**      44321 Nantes cedex 3, FRANCE      **)
(**      www.irccyn.ec-nantes.fr           **)
(********************************************)


   Name of file : D:/Mes documents/functions/Matlab Funcs/IGM_Tests/stanford.pie




     Geometric parameters   


j     ant   mu    sigma gamma b     alpha d     theta r


1     0     1     0     0     0     0     0     t1    0

                                    -Pi
2     1     1     0     0     0     ---   0     t2    R2
                                     2
                                    Pi
3     2     1     1     0     0     --    0     0     R3
                                    2

4     3     1     0     0     0     0     0     t4    0

                                    -Pi
5     4     1     0     0     0     ---   0     t5    0
                                     2
                                    Pi
6     5     1     0     0     0     --    0     t6    0
                                    2

 MGI by pieper

 The given situation is supposed as follows:

 0T6  =    sx   nx   ax   Px

           sy   ny   ay   Py

           sz   nz   az   Pz

           0    0    0    1



Equation in R3

c=-Px**2 - Py**2 - Pz**2 + R2**2
c + R3**2 = 0

e = 1  or e = -1

Solution
R3 = Sqrt(-c)*e




Equation in t2

R3*Cos(t2) = Pz


Solution
e = 1  or e = -1
SQ = (e*Sqrt(-Pz**2 + R3**2))/R3
CQ = Pz/R3
t2 = ATAN2( SQ , CQ )
Remark :  SQ = Sin(t2)
          CQ = Cos(t2)




Equation in t1

c=-(R3*Sin(t2))
X=Px**2 + Py**2
Y=-(c*Py) - Px*R2
X1=-Px**2 - Py**2
Y1=c*Px - Py*R2
X*Sin(t1) = Y
X1*Cos(t1) = Y1

Solution
t1 = ATAN2(Y/X , Y1/X1 )


U1T311=Cos(t1)*Cos(t2)
U1T312=Cos(t2)*Sin(t1)
U1T331=Cos(t1)*Sin(t2)
U1T332=Sin(t1)*Sin(t2)
SNA11=sx*U1T311 + sy*U1T312 - sz*Sin(t2)
SNA12=nx*U1T311 + ny*U1T312 - nz*Sin(t2)
SNA13=ax*U1T311 + ay*U1T312 - az*Sin(t2)
SNA21=sy*Cos(t1) - sx*Sin(t1)
SNA22=ny*Cos(t1) - nx*Sin(t1)
SNA23=ay*Cos(t1) - ax*Sin(t1)
SNA31=sx*U1T331 + sy*U1T332 + sz*Cos(t2)
SNA32=nx*U1T331 + ny*U1T332 + nz*Cos(t2)
SNA33=ax*U1T331 + ay*U1T332 + az*Cos(t2)


Equation in t4

SNA23*Cos(t4) - SNA13*Sin(t4) = 0


Solution
t4 = ATAN2(-SNA23,-SNA13)
 or t4 = ATAN2(SNA23,SNA13 ) 


B10=-(SNA13*Cos(t4)) - SNA23*Sin(t4)


Equation in t5

Sin(t5) = -B10
-Cos(t5) = -SNA33

Solution
t5 = ATAN2(-B10 , SNA33 )


B10=-(SNA21*Cos(t4)) + SNA11*Sin(t4)
B20=-(SNA22*Cos(t4)) + SNA12*Sin(t4)


Equation in t6

Sin(t6) = -B10
-Cos(t6) = B20

Solution
t6 = ATAN2(-B10 , -B20 )


